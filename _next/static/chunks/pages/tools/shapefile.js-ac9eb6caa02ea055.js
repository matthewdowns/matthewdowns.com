(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{7999:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/shapefile.js",function(){return a(5233)}])},9479:function(e,s,a){"use strict";a.d(s,{Z:function(){return o}});var l=a(5893),r=a(3223),t=a(4184),i=a.n(t),n=a(1664),d=a.n(n),c=a(1163);a(7294);var o=function(e){let{className:s,navigation:a,children:t}=e,n=(0,c.useRouter)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"mx-auto max-w-7xl p-4 sm:p-6 lg:p-8",children:[(0,l.jsxs)(d(),{className:"inline-flex gap-2 items-center mb-10",href:n.pathname.substring(0,n.pathname.lastIndexOf("/")),children:[(0,l.jsx)(r,{className:"h-4 w-4"})," Browse"]}),(0,l.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row gap-4 sm:gap-6 md:gap-8",children:[(0,l.jsx)("div",{children:(0,l.jsx)("article",{className:i()("prose lg:prose-lg dark:prose-invert",s),children:t})}),(0,l.jsx)("div",{children:(0,l.jsx)("ol",{className:"relative border-l border-gray-200 dark:border-gray-700",children:null==a?void 0:a.map(e=>{var s;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:"mb-4 ml-4 text-lg",children:(0,l.jsx)(d(),{href:"#".concat(e.id),children:e.label})},e.id),null===(s=e.items)||void 0===s?void 0:s.map(s=>(0,l.jsx)("li",{className:"mb-4 ml-8",children:(0,l.jsx)(d(),{href:"#".concat(s.id),children:s.label})},"".concat(e.id,"-").concat(s.id)))]})})})})]})]})})}},5233:function(e,s,a){"use strict";a.r(s);var l=a(5893),r=a(9008),t=a.n(r),i=a(1664),n=a.n(i),d=a(7294),c=a(8837),o=a(9479);s.default=function(){let[e,s]=(0,d.useState)(),[a,r]=(0,d.useState)(!1);return(0,l.jsxs)(o.Z,{navigation:[{id:"shapefile-input",label:"Upload a shapefile"},...null!=e?Object.keys(e).map(e=>({id:e,label:e,items:["SHP","SHX","DBF"].map(s=>({id:"".concat(e,"-").concat(s.toLowerCase()),label:s}))})):[]],children:[(0,l.jsxs)(t(),{children:[(0,l.jsx)("title",{children:"Shapefile.js"}),(0,l.jsx)("meta",{name:"description",content:"Easily read and parse Shapefiles from the browser. Shapefile.js allows you to load a .zip as a buffer, and parse each file individually."}),(0,l.jsx)("meta",{name:"keywords",content:"shape,shp,shapefile,dbf,esri,dbase,shapefiles,shx"})]}),(0,l.jsx)("h1",{className:"!mb-2",children:"Shapefile.js"}),(0,l.jsx)("p",{className:"!mb-2",children:"Easily read and parse Shapefiles from the browser. Shapefile.js allows you to load a .zip as a buffer, and parse each file individually."}),(0,l.jsx)("p",{className:"!mt-0",children:(0,l.jsx)(n(),{href:"https://github.com/matthewdowns/portfolio/tree/main/src/pages/tools/shapefile.js.jsx",target:"_blank",children:(0,l.jsx)("small",{children:"View this code on GitHub"})})}),(0,l.jsxs)("div",{className:"not-prose",children:[(0,l.jsxs)("div",{className:"bg-orange-100 border-l-4 border-orange-500 rounded-r text-orange-700 px-3 py-2",role:"alert",children:[(0,l.jsx)("p",{className:"text-md font-bold",children:"Warning"}),(0,l.jsx)("p",{className:"text-sm",children:"Large shapefiles can cause your browser to lock up."})]}),(0,l.jsxs)("label",{className:"relative mb-1 mt-2 inline-block text-neutral-700 dark:text-neutral-200",htmlFor:"shapefile-input",children:[(0,l.jsx)("span",{children:"Upload a Shapefile"}),(0,l.jsxs)("svg",{className:"absolute animate-spin -ml-1 mr-3 h-5 w-5".concat(a?"":" hidden"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",style:{bottom:"8px",right:0},children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("input",{id:"shapefile-input",className:"relative m-0 block min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-[0_0_0_1px] focus:shadow-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100",style:{maxWidth:"calc(100vw - 2rem)"},type:"file","aria-describedby":"shapefile-input-help",onChange:e=>{!a&&null!=e.target.files&&e.target.files.length>0&&(r(!0),e.target.files[0].arrayBuffer().then(e=>{c.Uv.load(e).then(e=>{s(e),r(!1)}).catch(()=>{r(!1)})}).catch(()=>{r(!1)}))}})]}),(0,l.jsx)("p",{id:"shapefile-input-help",className:"!mt-2 text-sm text-gray-500 dark:text-gray-300",children:"Archive (.zip, .rar, .7z)"})]}),null!=e&&(0,l.jsx)(l.Fragment,{children:Object.keys(e).sort().map(s=>{let a=e[s],r=a.parse("shx"),t=a.parse("dbf",{properties:!1});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{id:s,children:s}),(0,l.jsx)("h4",{id:"".concat(s,"-shp"),children:"Shape (.shp)"}),(0,l.jsx)("div",{className:"not-prose"}),(0,l.jsx)("h4",{id:"".concat(s,"-shp"),children:"Shape Index (.shx)"}),(0,l.jsx)("h5",{}),(0,l.jsx)("div",{className:"not-prose",children:(0,l.jsxs)("table",{className:"min-w-full text-left text-sm font-light",children:[(0,l.jsx)("thead",{className:"bg-slate-200 dark:bg-slate-900 border-b dark:border-b-slate-700 font-medium dark:border-neutral-500",children:(0,l.jsx)("tr",{children:(0,l.jsx)("th",{className:"px-6 py-4",scope:"col",children:"Record"})})}),(0,l.jsx)("tbody",{className:"bg-slate-100 dark:bg-slate-800",children:r.records.map(e=>(0,l.jsx)("tr",{className:"border-b dark:border-b-slate-700",children:(0,l.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:e.offset})},e.offset))})]})}),(0,l.jsx)("h4",{id:"".concat(s,"-dbf"),children:"DBase (.dbf)"}),(0,l.jsxs)("div",{className:"not-prose",children:[(0,l.jsxs)("p",{className:"mb-0",children:["Total records: ",t.header.numberOfRecords]}),(0,l.jsx)("p",{children:"Fields:"}),(0,l.jsx)("div",{className:"max-h-96 overflow-auto rounded",children:(0,l.jsxs)("table",{className:"min-w-full text-left text-sm font-light",children:[(0,l.jsx)("thead",{className:"bg-slate-200 dark:bg-slate-900 border-b dark:border-b-slate-700 font-medium dark:border-neutral-500",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-4",scope:"col",children:"Field"}),(0,l.jsx)("th",{className:"px-6 py-4",scope:"col",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-4",scope:"col",children:"Decimals"}),(0,l.jsx)("th",{className:"px-6 py-4",scope:"col",children:"Length"})]})}),(0,l.jsx)("tbody",{className:"bg-slate-100 dark:bg-slate-800",children:t.fields.map(e=>(0,l.jsxs)("tr",{className:"border-b dark:border-b-slate-700",children:[(0,l.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:e.name}),(0,l.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:e.type}),(0,l.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:e.decimals}),(0,l.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:e.length})]},e.name))})]})})]})]},s)})})]})}}},function(e){e.O(0,[50,774,888,179],function(){return e(e.s=7999)}),_N_E=e.O()}]);